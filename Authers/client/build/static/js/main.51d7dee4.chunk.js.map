{"version":3,"sources":["components/CreateAuther.js","components/AuthersTable.js","components/UpdateAuther.js","App.js","reportWebVitals.js","index.js"],"names":["useState","name","setName","errors","setErrors","map","err","index","style","color","onSubmit","e","preventDefault","axios","post","then","navigate","catch","errorResponse","response","data","errorArr","Object","keys","key","push","message","type","onChange","target","value","onClick","props","authers","setAuthers","useEffect","get","res","remove","autherId","filter","a","_id","length","auther","i","delete","id","put","App","className","AuthersTable","path","CreateAuther","UpdateAuther","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.51d7dee4.chunk.js","sourcesContent":["import { navigate } from '@reach/router';\r\nimport axios from 'axios';\r\nimport React, { useState } from 'react'\r\n\r\nexport default () => {\r\n    const[name,setName]=useState(\"\")\r\n    const [errors, setErrors] = useState([])\r\n    \r\n    const onSubmitHandler =(e) =>{\r\n        e.preventDefault();\r\n        axios.post(\"http://localhost:8000/api/createNewAther\",{name})\r\n        .then(()=>navigate(\"/\"))\r\n        .catch(err =>{\r\n            const errorResponse = err.response.data.errors; // Get the errors from err.response.data\r\n            const errorArr = []; // Define a temp error array to push the messages in\r\n            for (const key of Object.keys(errorResponse)) { // Loop through all errors and get the messages\r\n                errorArr.push(errorResponse[key].message)\r\n            }\r\n            // Set Errors\r\n            setErrors(errorArr);\r\n        })\r\n            \r\n    }\r\n    const Home =()=>{\r\n        navigate(\"/\")\r\n    }\r\n        \r\n    return (\r\n        <div>\r\n            <p>Add a new author:&nbsp;\r\n                        {\r\n                            errors.map((err, index) => <small key={index} style={{color:\"red\"}}>{err}</small>)\r\n                        }\r\n                    </p>\r\n            <form onSubmit={onSubmitHandler}>\r\n            <p>\r\n                <label>Auther Name :</label><br/>\r\n                <input type='text' onChange={e=>setName(e.target.value)} value={name}/>\r\n            </p>\r\n            <input type=\"submit\"/>\r\n            <button  onClick={Home} >Cancel</button>\r\n        </form>\r\n        </div>\r\n    )\r\n}\r\n","import React,{useState,useEffect} from 'react'\r\nimport axios from 'axios'\r\nimport { Link, navigate } from '@reach/router'\r\n\r\n\r\nexport default(props) => {\r\n    const [authers,setAuthers]=useState([])\r\n//   const[loaded,setLoaded]=useState(false)\r\n  useEffect(()=>{\r\n    axios.get(\"http://localhost:8000/api/getAllAuthers\")\r\n        .then(res=>setAuthers(res.data))  \r\n        // setLoaded(true);\r\n \r\n}, []);\r\n\r\nconst clickHandler =() =>{\r\n    navigate('/new')\r\n}\r\n\r\nconst deleteclick=(autherId)=>{\r\n    axios.delete(\"http://localhost:8000/api/\"+autherId)\r\n        .then(res => {remove(autherId)})\r\n}\r\n\r\nconst remove=(autherId)=>{\r\n    setAuthers(authers.filter(a => a._id !=autherId))\r\n}\r\n\r\n    return (\r\n        <>\r\n        <table>\r\n            <th>Auther</th>\r\n            <th>Action</th>\r\n            {authers.length >0 &&\r\n                authers.map((auther,i) =>{\r\n                    return<tr>\r\n                    <td key={i}>{auther.name}</td>\r\n                    <td><button  onClick={(e)=>deleteclick(auther._id)} >Delete</button></td>\r\n                    <td><button onClick={()=>navigate('/edit/'+auther._id)} >Edit</button></td>\r\n                    </tr>\r\n                })\r\n            }\r\n        </table>\r\n        <input type='button' value='add a new author' onClick={clickHandler} />\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { navigate } from \"@reach/router\";\r\n\r\nexport default (props) => {\r\n  const { id } = props;\r\n  const [name, setName] = useState(\"\");\r\n  const [errors, setErrors] = useState([]);\r\n\r\n  useEffect(() => {\r\n    axios.get(\"http://localhost:8000/api/\" + id).then((res) => {\r\n      setName(res.data.name);\r\n    });\r\n  }, []);\r\n  const onSubmitHandler = (e) => {\r\n    e.preventDefault();\r\n    if (name.length < 3) {\r\n        setErrors(\"auther name should be at least 3 char\")\r\n    } else {\r\n      axios\r\n        .put(\"http://localhost:8000/api/edit/\" + id, {\r\n          name,\r\n        })\r\n        .then(() => navigate(\"/\"));\r\n    }\r\n  };\r\n  return (\r\n    <div>\r\n      <p>\r\n        Update auther :&nbsp;\r\n        <p style={{color:\"red\"}} >{errors}</p>\r\n      </p>\r\n      <form onSubmit={onSubmitHandler}>\r\n        <p>\r\n          <label>Auther Name :</label>\r\n          <br />\r\n          <input\r\n            type=\"text\"\r\n            onChange={(e) => setName(e.target.value)}\r\n            value={name}\r\n          />\r\n        </p>\r\n        <input type=\"submit\" />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","import './App.css';\nimport CreateAuther from './components/CreateAuther';\nimport {Router} from '@reach/router';\nimport AuthersTable from './components/AuthersTable';\nimport React from 'react';\nimport UpdateAuther from './components/UpdateAuther';\n// import axios from 'axios'\nfunction App() {\n  \n  return (\n    <div className=\"App\">\n      <Router>\n      <AuthersTable path='/'  />\n      <CreateAuther path='/new' />\n      <UpdateAuther path='/edit/:id' />\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}